# TODO List for days-afterX_bot

Этот документ отслеживает задачи по разработке и их статус.

## MVP (Minimum Viable Product) - Основной функционал

### Команды
- [x] `/start` - Регистрация пользователя
- [x] `/add` - Добавление нового события (быстрый и FSM режимы)
- [ ] `/list` - Просмотр списка своих событий
- [ ] `/reset` - Сброс счетчика для события (обновление даты на текущую)
- [ ] `/delete` - Удаление события

### Архитектура и UX
- [x] Базовая настройка проекта (Docker, poetry, alembic)
- [x] Настройка базы данных (PostgreSQL) и моделей (SQLAlchemy)
- [x] Реализация FSM для пошагового добавления события
- [x] Рефакторинг: Вынос всех текстов в `lexicon`
- [x] **(Итерация 7)** Рефакторинг: Внедрение `AuthMiddleware` и разделение хэндлеров на `common` и `event` для контроля доступа.
- [x] **(Итерация 7)** Документирование архитектуры и FSM диаграмм.

## Post-MVP - Будущие улучшения

### Функционал
- [ ] **Пагинация для `/list`**: Если у пользователя >10 событий, выводить их по страницам с кнопками "Вперед"/"Назад".
- [ ] **Сторнирование (Undo) для `/delete`**: После удаления события предлагать кнопку "Отменить", активную 10-15 секунд.
- [ ] **Команда `/help`**: Вывод справки по всем командам.
- [ ] **Уведомления**: Ежедневные/еженедельные сводки о событиях.
- [ ] **Кастомизация**: Возможность для пользователя настраивать формат вывода, язык.

### Технический долг и улучшения
- [ ] **Покрытие тестами**: Написать unit и интеграционные тесты.
- [ ] **CI/CD**: Настроить автоматическую сборку, тестирование и деплой проекта.
- [ ] **Логирование**: Настроить более продвинутое логирование с ротацией файлов и разными уровнями для dev/prod.

## План следующих итераций

1.  **Итерация 8: Реализация `/list`**.
    *   Создать утилиту для форматирования вывода "N дней назад".
    *   Реализовать хэндлер для `/list`, выводящий нумерованный список.
    *   Обновить лексикон.

2.  **Итерация 9: Реализация `/reset`**.
    *   Реализовать FSM для интерактивного выбора и сброса события через инлайн-клавиатуру.

3.  **Итерация 10: Реализация `/delete`**.
    *   Реализовать двухшаговый FSM для безопасного удаления события с кнопками подтверждения.
